{
    "manifest_version": "1.0",
    "driver_id": "smo_clubhouse_driver",
    "name": "Clubhouse",
    "type": "audio_social_network",
    "icon": "assets/icons/clubhouse.svg",
    "api_docs": "https://developer.clubhouse.io/docs/api/v2/introduction",

    "capabilities": {
        "text": true,
        "audio": true,
        "image": true,
        "event_creation": true,
        "club_management": true,
        "max_chars": 140,
        "max_images": 4,
        "allows_html": false,
        "best_image_ratio": "1:1"
    },

    "config_ui": [
        {
            "key": "clubhouse_api_token",
            "label": "API Token",
            "type": "password",
            "required": true,
            "encrypt": true,
            "help_text": "Your Clubhouse API token for authentication"
        },
        {
            "key": "clubhouse_user_id",
            "label": "User ID",
            "type": "text",
            "required": true,
            "help_text": "Your Clubhouse User ID for posting and event creation"
        },
        {
            "key": "clubhouse_club_id",
            "label": "Club ID",
            "type": "text",
            "required": false,
            "help_text": "Your Club ID (optional, for club-specific posts and events)"
        }
    ],

    "validation_rules": {
        "warnings": [
            {
                "condition": "content_length > 140",
                "message": "Clubhouse posts are limited to 140 characters. Keep messages short and engaging."
            },
            {
                "condition": "image_count > 4",
                "message": "Clubhouse supports up to 4 images per post."
            },
            {
                "condition": "audio_length > 5",
                "message": "Audio clips longer than 5 minutes may have reduced engagement."
            }
        ]
    },

    "api_interaction": {
        "auth_method": "bearer_token",
        "post_endpoint": {
            "url": "https://api.clubhouse.io/api/v2/stories",
            "method": "POST",
            "headers": {
                "Authorization": "Bearer {{config.clubhouse_api_token}}",
                "Content-Type": "application/json"
            }
        },

        "payload_map": {
            "user_id": "{{config.clubhouse_user_id}}",
            "body": "{{post_content}} {{post_hashtags}}",
            "club_id": {
                "if": "{{config.clubhouse_club_id}}",
                "value": "{{config.clubhouse_club_id}}"
            },
            "image_urls": {
                "if": "{{has_images}}",
                "structure": "{{mapped_clubhouse_images}}"
            }
        }
    },

    "optimal_posting_times": ["19:00", "20:00", "21:00", "22:00"],
    "engagement_factors": {
        "audio_content": 2.5,
        "text_length": 0.2,
        "network_effect": 1.8,
        "time_of_day": 1.2,
        "day_of_week": 0.9
    },
    "notes": "Audio-based social network for live conversations and discussions. Great for thought leadership and community building"
}
